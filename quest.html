<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RPG - Quest Board</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Press Start 2P', cursive;
            -webkit-user-select: none;
            user-select: none;
        }
        
        body {
            background-color: #111;
            color: #0f0;
            min-height: 100vh;
            padding: 20px;
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(0, 80, 0, 0.2) 1px, transparent 1px),
                radial-gradient(circle at 75% 75%, rgba(0, 80, 0, 0.2) 1px, transparent 1px);
            background-size: 30px 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .container {
            width: 100%;
            max-width: 800px;
            border: 4px solid #0f0;
            border-radius: 10px;
            background-color: rgba(0, 20, 0, 0.9);
            overflow: hidden;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.5);
        }
        
        header {
            background-color: #000;
            padding: 15px;
            border-bottom: 2px solid #0f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        h1 {
            font-size: 18px;
            color: #0f0;
            text-shadow: 0 0 5px #0f0;
        }
        
        .gold-display {
            display: flex;
            align-items: center;
            background-color: #222;
            padding: 8px 15px;
            border-radius: 20px;
            border: 2px solid #fc0;
        }
        
        .gold-display span {
            color: #fc0;
            margin-left: 8px;
            font-size: 14px;
        }
        
        .tabs {
            display: flex;
            background-color: #000;
            border-bottom: 2px solid #0f0;
        }
        
        .tab {
            padding: 12px 0;
            flex: 1;
            text-align: center;
            cursor: pointer;
            font-size: 10px;
            transition: all 0.3s;
            border-right: 1px solid #0f0;
        }
        
        .tab:last-child {
            border-right: none;
        }
        
        .tab.active {
            background-color: #0f0;
            color: #000;
        }
        
        .tab-content {
            padding: 20px;
            min-height: 400px;
        }
        
        .content-section {
            display: none;
        }
        
        .content-section.active {
            display: block;
        }
        
        .quest {
            background-color: rgba(0, 0, 0, 0.7);
            border-left: 5px solid #af0;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .quest:hover {
            transform: translateX(5px);
            border-left-color: #ff0;
        }
        
        .quest-title {
            color: #ff0;
            font-size: 14px;
            margin-bottom: 10px;
        }
        
        .quest-desc {
            color: #af0;
            font-size: 10px;
            margin-bottom: 10px;
            line-height: 1.5;
        }
        
        .quest-reward {
            color: #fc0;
            font-size: 10px;
        }
        
        .hero {
            background-color: rgba(0, 0, 0, 0.7);
            border: 2px solid #333;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 5px;
            display: flex;
            align-items: center;
        }
        
        .hero-avatar {
            width: 60px;
            height: 60px;
            background-color: #333;
            border-radius: 50%;
            margin-right: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }
        
        .hero-info {
            flex: 1;
        }
        
        .hero-name {
            color: #5cf;
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .hero-stats {
            color: #aaa;
            font-size: 10px;
            display: flex;
            gap: 15px;
        }
        
        .hero-status {
            font-size: 10px;
            padding: 5px 10px;
            border-radius: 15px;
            background-color: #333;
        }
        
        .status-available {
            color: #0f0;
        }
        
        .status-busy {
            color: #f88;
        }
        
        .active-quest {
            background-color: rgba(0, 0, 0, 0.7);
            border-left: 5px solid #5cf;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 5px;
        }
        
        .quest-timer {
            color: #5cf;
            font-size: 12px;
            margin-top: 10px;
        }
        
        .completed-quest {
            background-color: rgba(0, 0, 0, 0.7);
            border-left: 5px solid #5a5;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 5px;
            opacity: 0.8;
        }
        
        .btn {
            background-color: #000;
            color: #0f0;
            border: 2px solid #0f0;
            padding: 10px 15px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s;
            margin-top: 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn:hover {
            background-color: #0f0;
            color: #000;
        }
        
        .btn-back {
            background-color: #300;
            color: #f88;
            border-color: #f88;
        }
        
        .btn-back:hover {
            background-color: #f88;
            color: #300;
        }
        
        @media (max-width: 600px) {
            .tab {
                font-size: 8px;
                padding: 10px 5px;
            }
            
            .hero {
                flex-direction: column;
                text-align: center;
            }
            
            .hero-avatar {
                margin-right: 0;
                margin-bottom: 10px;
            }
            
            .hero-stats {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>QUEST BOARD</h1>
            <div class="gold-display">
                <span>GOLD: </span>
                <span id="gold-amount">100</span>
            </div>
        </header>
        
        <div class="tabs">
            <div class="tab active" data-tab="available">Available Quests</div>
            <div class="tab" data-tab="heroes">Heroes</div>
            <div class="tab" data-tab="active">Active Quests</div>
            <div class="tab" data-tab="completed">Completed Quests</div>
        </div>
        
        <div class="tab-content">
            <!-- Available Quests -->
            <div class="content-section active" id="available">
                <div class="quest" data-id="1">
                    <div class="quest-title">Goblin Extermination [Easy]</div>
                    <div class="quest-desc">Clear the goblin nest near the village. Watch out for their sharp teeth!</div>
                    <div class="quest-reward">Reward: 50 Gold, 100 XP</div>
                </div>
                
                <div class="quest" data-id="2">
                    <div class="quest-title">Bandit Hunt [Medium]</div>
                    <div class="quest-desc">Track down and defeat the bandits terrorizing travelers on the northern road.</div>
                    <div class="quest-reward">Reward: 100 Gold, 200 XP</div>
                </div>
                
                <div class="quest" data-id="3">
                    <div class="quest-title">Ancient Ruins Exploration [Hard]</div>
                    <div class="quest-desc">Explore the ancient ruins and retrieve the artifact of power. Beware of traps!</div>
                    <div class="quest-reward">Reward: 200 Gold, 500 XP</div>
                </div>
                
                <div class="quest" data-id="4">
                    <div class="quest-title">Dragon Slaying [Very Hard]</div>
                    <div class="quest-desc">Slay the dragon threatening the kingdom. Only for the bravest heroes!</div>
                    <div class="quest-reward">Reward: 500 Gold, 1000 XP</div>
                </div>
            </div>
            
            <!-- Heroes -->
            <div class="content-section" id="heroes">
                <div class="hero">
                    <div class="hero-avatar">‚öîÔ∏è</div>
                    <div class="hero-info">
                        <div class="hero-name">Sir Galen</div>
                        <div class="hero-stats">
                            <span>Lvl: 5</span>
                            <span>ATK: 15</span>
                            <span>DEF: 10</span>
                        </div>
                    </div>
                    <div class="hero-status status-available">Available</div>
                </div>
                
                <div class="hero">
                    <div class="hero-avatar">üèπ</div>
                    <div class="hero-info">
                        <div class="hero-name">Lady Lyra</div>
                        <div class="hero-stats">
                            <span>Lvl: 4</span>
                            <span>ATK: 12</span>
                            <span>DEF: 8</span>
                        </div>
                    </div>
                    <div class="hero-status status-available">Available</div>
                </div>
                
                <div class="hero">
                    <div class="hero-avatar">üîÆ</div>
                    <div class="hero-info">
                        <div class="hero-name">Roland the Swift</div>
                        <div class="hero-stats">
                            <span>Lvl: 3</span>
                            <span>ATK: 10</span>
                            <span>DEF: 6</span>
                        </div>
                    </div>
                    <div class="hero-status status-available">Available</div>
                </div>
            </div>
            
            <!-- Active Quests -->
            <div class="content-section" id="active">
                <p id="no-active-quests">No active quests at the moment.</p>
            </div>
            
            <!-- Completed Quests -->
            <div class="content-section" id="completed">
                <p id="no-completed-quests">No completed quests yet.</p>
            </div>
        </div>
    </div>
    
    <a href="sanc2.html" class="btn btn-back">Back to Battle</a>

    <script>
        // Game state
        const gameState = {
            gold: 100,
            heroes: [
                { id: 1, name: "Sir Galen", level: 5, attack: 15, defense: 10, status: "available", currentQuest: null },
                { id: 2, name: "Lady Lyra", level: 4, attack: 12, defense: 8, status: "available", currentQuest: null },
                { id: 3, name: "Roland the Swift", level: 3, attack: 10, defense: 6, status: "available", currentQuest: null }
            ],
            quests: {
                available: [
                    { id: 1, title: "Goblin Extermination", difficulty: "Easy", description: "Clear the goblin nest near the village. Watch out for their sharp teeth!", reward: { gold: 50, xp: 100 }, duration: 5 },
                    { id: 2, title: "Bandit Hunt", difficulty: "Medium", description: "Track down and defeat the bandits terrorizing travelers on the northern road.", reward: { gold: 100, xp: 200 }, duration: 10 },
                    { id: 3, title: "Ancient Ruins Exploration", difficulty: "Hard", description: "Explore the ancient ruins and retrieve the artifact of power. Beware of traps!", reward: { gold: 200, xp: 500 }, duration: 20 },
                    { id: 4, title: "Dragon Slaying", difficulty: "Very Hard", description: "Slay the dragon threatening the kingdom. Only for the bravest heroes!", reward: { gold: 500, xp: 1000 }, duration: 30 }
                ],
                active: [],
                completed: []
            }
        };

        // DOM Elements
        const goldAmountEl = document.getElementById('gold-amount');
        const tabs = document.querySelectorAll('.tab');
        const contentSections = document.querySelectorAll('.content-section');
        const availableQuests = document.querySelectorAll('.quest');
        const activeQuestsSection = document.getElementById('active');
        const completedQuestsSection = document.getElementById('completed');
        const noActiveQuestsEl = document.getElementById('no-active-quests');
        const noCompletedQuestsEl = document.getElementById('no-completed-quests');

        // Initialize the game
        function initGame() {
            // Load gold from localStorage if available
            const savedGold = localStorage.getItem('rpgGold');
            if (savedGold) {
                gameState.gold = parseInt(savedGold);
            }
            
            // Load quests state from localStorage if available
            const savedQuests = localStorage.getItem('rpgQuests');
            if (savedQuests) {
                const parsedQuests = JSON.parse(savedQuests);
                gameState.quests.active = parsedQuests.active || [];
                gameState.quests.completed = parsedQuests.completed || [];
            }
            
            // Load heroes state from localStorage if available
            const savedHeroes = localStorage.getItem('rpgHeroes');
            if (savedHeroes) {
                const parsedHeroes = JSON.parse(savedHeroes);
                gameState.heroes = parsedHeroes;
            }
            
            // Update UI
            updateGoldDisplay();
            updateQuestsDisplay();
            updateHeroesDisplay();
            
            // Set up tab click events
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabId = tab.getAttribute('data-tab');
                    
                    // Update active tab
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    
                    // Show corresponding content
                    contentSections.forEach(section => {
                        section.classList.remove('active');
                        if (section.id === tabId) {
                            section.classList.add('active');
                        }
                    });
                });
            });
            
            // Set up quest click events
            availableQuests.forEach(quest => {
                quest.addEventListener('click', () => {
                    const questId = parseInt(quest.getAttribute('data-id'));
                    assignQuest(questId);
                });
            });
            
            // Start the quest timer
            setInterval(updateQuestTimers, 1000);
        }

        // Update gold display
        function updateGoldDisplay() {
            goldAmountEl.textContent = gameState.gold;
            localStorage.setItem('rpgGold', gameState.gold.toString());
        }

        // Update quests display
        function updateQuestsDisplay() {
            // Clear active and completed quests sections
            while (activeQuestsSection.firstChild) {
                if (activeQuestsSection.firstChild.id === 'no-active-quests') {
                    break;
                }
                activeQuestsSection.removeChild(activeQuestsSection.firstChild);
            }
            
            while (completedQuestsSection.firstChild) {
                if (completedQuestsSection.firstChild.id === 'no-completed-quests') {
                    break;
                }
                completedQuestsSection.removeChild(completedQuestsSection.firstChild);
            }
            
            // Display active quests
            if (gameState.quests.active.length === 0) {
                noActiveQuestsEl.style.display = 'block';
            } else {
                noActiveQuestsEl.style.display = 'none';
                
                gameState.quests.active.forEach(quest => {
                    const questEl = document.createElement('div');
                    questEl.className = 'active-quest';
                    questEl.innerHTML = `
                        <div class="quest-title">${quest.title} [${quest.difficulty}]</div>
                        <div class="quest-desc">${quest.description}</div>
                        <div class="quest-reward">Reward: ${quest.reward.gold} Gold, ${quest.reward.xp} XP</div>
                        <div class="quest-timer">Time remaining: ${formatTime(quest.timeRemaining)}</div>
                    `;
                    activeQuestsSection.appendChild(questEl);
                });
            }
            
            // Display completed quests
            if (gameState.quests.completed.length === 0) {
                noCompletedQuestsEl.style.display = 'block';
            } else {
                noCompletedQuestsEl.style.display = 'none';
                
                gameState.quests.completed.forEach(quest => {
                    const questEl = document.createElement('div');
                    questEl.className = 'completed-quest';
                    questEl.innerHTML = `
                        <div class="quest-title">${quest.title} [${quest.difficulty}]</div>
                        <div class="quest-desc">${quest.description}</div>
                        <div class="quest-reward">Reward: ${quest.reward.gold} Gold, ${quest.reward.xp} XP</div>
                    `;
                    completedQuestsSection.appendChild(questEl);
                });
            }
            
            // Save to localStorage
            localStorage.setItem('rpgQuests', JSON.stringify({
                active: gameState.quests.active,
                completed: gameState.quests.completed
            }));
        }

        // Update heroes display
        function updateHeroesDisplay() {
            const heroesSection = document.getElementById('heroes');
            const heroElements = heroesSection.querySelectorAll('.hero');
            
            heroElements.forEach((heroEl, index) => {
                const hero = gameState.heroes[index];
                const statusEl = heroEl.querySelector('.hero-status');
                
                statusEl.textContent = hero.status === 'available' ? 'Available' : 'On Quest';
                statusEl.className = `hero-status status-${hero.status}`;
            });
            
            // Save to localStorage
            localStorage.setItem('rpgHeroes', JSON.stringify(gameState.heroes));
        }

        // Assign a quest to a hero
        function assignQuest(questId) {
            // Find the quest
            const quest = gameState.quests.available.find(q => q.id === questId);
            if (!quest) return;
            
            // Find an available hero
            const availableHero = gameState.heroes.find(h => h.status === 'available');
            if (!availableHero) {
                alert('No available heroes at the moment!');
                return;
            }
            
            // Create active quest object
            const activeQuest = {
                ...quest,
                heroId: availableHero.id,
                startTime: Date.now(),
                timeRemaining: quest.duration * 60 // Convert to seconds
            };
            
            // Update game state
            gameState.quests.active.push(activeQuest);
            availableHero.status = 'busy';
            availableHero.currentQuest = questId;
            
            // Update UI
            updateQuestsDisplay();
            updateHeroesDisplay();
            
            alert(`Quest "${quest.title}" assigned to ${availableHero.name}!`);
        }

        // Update quest timers
        function updateQuestTimers() {
            const now = Date.now();
            let updated = false;
            
            // Update time remaining for active quests
            gameState.quests.active.forEach(quest => {
                const elapsedSeconds = Math.floor((now - quest.startTime) / 1000);
                quest.timeRemaining = Math.max(0, (quest.duration * 60) - elapsedSeconds);
                
                // Check if quest is completed
                if (quest.timeRemaining === 0) {
                    completeQuest(quest);
                    updated = true;
                }
            });
            
            if (updated) {
                updateQuestsDisplay();
                updateHeroesDisplay();
            }
        }

        // Complete a quest
        function completeQuest(quest) {
            // Remove from active quests
            gameState.quests.active = gameState.quests.active.filter(q => q.id !== quest.id);
            
            // Add to completed quests
            gameState.quests.completed.push(quest);
            
            // Update hero status
            const hero = gameState.heroes.find(h => h.id === quest.heroId);
            if (hero) {
                hero.status = 'available';
                hero.currentQuest = null;
            }
            
            // Add gold reward
            gameState.gold += quest.reward.gold;
            updateGoldDisplay();
            
            alert(`Quest "${quest.title}" completed! You earned ${quest.reward.gold} gold!`);
        }

        // Format time as MM:SS
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }

        // Initialize the game when page loads
        window.addEventListener('load', initGame);
    </script>
</body>
</html>

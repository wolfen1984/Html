<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Shadows of Doubt: A Cryptozoology Quest</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #121212;
            color: #e0e0e0;
            font-family: 'Georgia', serif;
            touch-action: manipulation;
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        #game-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 10px;
            max-width: 100%;
            box-sizing: border-box;
        }
        
        #story-display {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
            background-color: #1e1e1e;
            border-radius: 5px;
            margin-bottom: 10px;
            line-height: 1.5;
        }
        
        #choices-container {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .choice-btn {
            padding: 12px;
            background-color: #2d2d2d;
            color: #e0e0e0;
            border: 1px solid #444;
            border-radius: 5px;
            font-family: 'Georgia', serif;
            font-size: 16px;
            text-align: left;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .choice-btn:hover {
            background-color: #3a3a3a;
        }
        
        .story-text {
            margin-bottom: 15px;
        }
        
        .title-screen {
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            height: 100%;
        }
        
        .title {
            font-size: 24px;
            color: #8b0000;
            margin-bottom: 20px;
            text-shadow: 0 0 5px #ff0000;
        }
        
        .subtitle {
            font-style: italic;
            margin-bottom: 30px;
        }
        
        #start-btn {
            padding: 15px;
            background-color: #8b0000;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            cursor: pointer;
            margin: 0 auto;
            width: 80%;
        }
        
        .inventory {
            margin-top: 10px;
            padding: 10px;
            background-color: #252525;
            border-radius: 5px;
            font-size: 14px;
        }
        
        .inventory-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .inventory-items {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }
        
        .inventory-item {
            background-color: #333;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 12px;
        }
        
        .hidden {
            display: none;
        }
        
        .stats {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-size: 14px;
        }
        
        .stat {
            background-color: #252525;
            padding: 5px 10px;
            border-radius: 3px;
        }
        
        #sanity-bar {
            width: 100%;
            height: 5px;
            background-color: #333;
            margin-top: 5px;
        }
        
        #sanity-progress {
            height: 100%;
            background-color: #4e9af1;
            width: 100%;
        }
        
        @media (max-width: 400px) {
            .choice-btn {
                font-size: 14px;
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div id="game-container">
        <div id="title-screen" class="title-screen">
            <div class="title">SHADOWS OF DOUBT</div>
            <div class="subtitle">A Cryptozoology Quest</div>
            <button id="start-btn">BEGIN YOUR QUEST</button>
        </div>
        
        <div id="game-screen" class="hidden">
            <div id="story-display"></div>
            <div class="stats">
                <div class="stat">Clues: <span id="clues-count">0</span>/7</div>
                <div class="stat">Sanity: 
                    <div id="sanity-bar"><div id="sanity-progress"></div></div>
                </div>
            </div>
            <div id="choices-container"></div>
            <div id="inventory-display" class="inventory hidden">
                <div class="inventory-title">INVENTORY:</div>
                <div class="inventory-items" id="inventory-items"></div>
            </div>
        </div>
    </div>

    <script>
        // Game state
        const gameState = {
            inventory: ['Flashlight', 'Notebook', 'Camera', 'Father\'s Journal'],
            sanity: 100,
            foundClues: 0,
            knowsTruth: false,
            motherFound: false,
            fatherInnocent: null,
            hasWeapon: false,
            creaturePhotographed: false,
            policeInvolved: false,
            metHiker: false
        };

        // DOM elements
        const titleScreen = document.getElementById('title-screen');
        const gameScreen = document.getElementById('game-screen');
        const storyDisplay = document.getElementById('story-display');
        const choicesContainer = document.getElementById('choices-container');
        const startBtn = document.getElementById('start-btn');
        const inventoryDisplay = document.getElementById('inventory-display');
        const inventoryItems = document.getElementById('inventory-items');
        const cluesCount = document.getElementById('clues-count');
        const sanityProgress = document.getElementById('sanity-progress');

        // Start game
        startBtn.addEventListener('click', () => {
            titleScreen.classList.add('hidden');
            gameScreen.classList.remove('hidden');
            inventoryDisplay.classList.remove('hidden');
            updateInventory();
            updateStats();
            showScene('intro');
        });

        // Update inventory display
        function updateInventory() {
            inventoryItems.innerHTML = '';
            gameState.inventory.forEach(item => {
                const itemElement = document.createElement('div');
                itemElement.className = 'inventory-item';
                itemElement.textContent = item;
                inventoryItems.appendChild(itemElement);
            });
        }

        // Update stats display
        function updateStats() {
            cluesCount.textContent = gameState.foundClues;
            sanityProgress.style.width = `${gameState.sanity}%`;
            if (gameState.sanity < 30) {
                sanityProgress.style.backgroundColor = '#ff0000';
            } else if (gameState.sanity < 60) {
                sanityProgress.style.backgroundColor = '#ffa500';
            } else {
                sanityProgress.style.backgroundColor = '#4e9af1';
            }
        }

        // Add text to story display
        function addText(text, delay = 30) {
            return new Promise(resolve => {
                const paragraph = document.createElement('div');
                paragraph.className = 'story-text';
                storyDisplay.appendChild(paragraph);
                
                let i = 0;
                const typing = setInterval(() => {
                    if (i < text.length) {
                        paragraph.textContent += text.charAt(i);
                        i++;
                        storyDisplay.scrollTop = storyDisplay.scrollHeight;
                    } else {
                        clearInterval(typing);
                        resolve();
                    }
                }, delay);
            });
        }

        // Clear choices
        function clearChoices() {
            while (choicesContainer.firstChild) {
                choicesContainer.removeChild(choicesContainer.firstChild);
            }
        }

        // Add choice button
        function addChoice(text, callback) {
            const button = document.createElement('button');
            button.className = 'choice-btn';
            button.textContent = text;
            button.addEventListener('click', callback);
            choicesContainer.appendChild(button);
        }

        // Show scene
        async function showScene(sceneId) {
            storyDisplay.innerHTML = '';
            clearChoices();
            
            switch(sceneId) {
                case 'intro':
                    await addText("The fire crackles as you sit alone in your cabin, surrounded by maps, photographs, and newspaper clippings. The walls are covered with sketches of creatures—some familiar, some barely imaginable.");
                    await addText("Your father's journal lies open before you, its pages filled with his frantic handwriting. The last entry, dated the night your mother disappeared, is barely legible: 'It took her. The beast took her. I tried to stop it but... the eyes... those horrible yellow eyes...'");
                    await addText("You've spent years chasing shadows, following every lead, every rumor of strange creatures in the wilderness. Tonight, a new clue has surfaced—a hiker's blurry photograph from Blackwood Forest, showing something large and bipedal lurking among the trees.");
                    await addText("Your equipment is packed. Your truck is gassed up. The forest is three hours away. The hunt begins again.");
                    
                    addChoice("Examine the photograph more closely", () => showScene('examine_photo'));
                    addChoice("Check your equipment before leaving", () => showScene('check_gear'));
                    addChoice("Head straight to Blackwood Forest", () => showScene('drive_to_forest'));
                    break;
                    
                case 'examine_photo':
                    await addText("You pull the photograph from its envelope with trembling hands. The image is grainy, taken at dusk, but there's definitely something there—tall, covered in dark hair, standing just at the tree line.");
                    await addText("As you study it, something catches your eye. In the lower corner, nearly out of frame, there's a glint of metal. You grab a magnifying glass and peer closer. It looks like... a locket? The same silver locket your mother always wore, with the distinctive vine pattern.");
                    await addText("Your breath catches in your throat. This can't be coincidence. That locket was never found after her disappearance. If it's in this photo... then whatever took her might still be in Blackwood Forest.");
                    
                    if (!gameState.inventory.includes('Hiker\'s Photo')) {
                        gameState.inventory.push('Hiker\'s Photo');
                        gameState.foundClues += 1;
                        updateInventory();
                        updateStats();
                    }
                    
                    addChoice("Pack the photo and head to the forest immediately", () => showScene('drive_to_forest'));
                    addChoice("Make some calls first—see if anyone knows about recent sightings", () => showScene('make_calls'));
                    addChoice("Check your father's journal for references to the locket", () => showScene('journal_locket'));
                    break;
                    
                case 'journal_locket':
                    await addText("You flip through your father's journal, searching for any mention of the locket. Near the end, you find a troubling passage:");
                    await addText("'July 3rd: Mary's locket went missing today. She's distraught. I told her it must have fallen off in the woods, but I know the truth. It took it. The thing that watches us took it as some kind of trophy.'");
                    await addText("The next entry is even more disturbing:");
                    await addText("'July 5th: Found the locket hanging from a tree near the creek. It's taunting us. I tried to tell the sheriff but he thinks I'm crazy. Maybe I am. Maybe none of this is real.'");
                    await addText("This confirms your worst fears—the creature has a pattern of taking the locket and returning it. If it's appearing in Blackwood now, the cycle might be repeating.");
                    gameState.foundClues += 1;
                    updateStats();
                    
                    addChoice("Head to Blackwood Forest immediately", () => showScene('drive_to_forest'));
                    addChoice("Contact the sheriff first—maybe he remembers something", () => showScene('contact_sheriff'));
                    break;
                    
                case 'contact_sheriff':
                    await addText("You call Sheriff Coleson, who handled your mother's case. He's retired now but agrees to meet you at the diner.");
                    await addText("'Look, kid,' he says, stirring his coffee, 'I always had my doubts about your father's story. But there were... elements that didn't add up.'");
                    await addText("He leans in closer. 'That locket of your mom's? We found it three separate times during the investigation. Each time in a different place, each time hanging from a tree branch like it was placed there.'");
                    await addText("'And the claw marks on those trees? No known animal makes marks like that. I buried that detail in the report because I didn't want the crazies coming around.'");
                    gameState.foundClues += 1;
                    gameState.policeInvolved = true;
                    updateStats();
                    
                    addChoice("Ask if he'll accompany you to Blackwood", () => showScene('ask_sheriff_help'));
                    addChoice("Thank him and head to the forest alone", () => showScene('drive_to_forest'));
                    break;
                    
                case 'ask_sheriff_help':
                    await addText("Coleson sighs deeply. 'I'm too old for this, but... yeah. I owe your family that much. Meet me at the forest ranger station in two hours. And bring something heavy—just in case.'");
                    await addText("He reaches into his jacket and slides a small revolver across the table. 'Take this. I have a feeling you might need it more than me.'");
                    gameState.hasWeapon = true;
                    gameState.inventory.push('Revolver');
                    updateInventory();
                    
                    addChoice("Take the gun and meet Coleson later", () => showScene('drive_to_forest_with_backup'));
                    break;
                    
                case 'drive_to_forest_with_backup':
                    await addText("You arrive at Blackwood Forest to find Coleson waiting with two park rangers. They're skeptical but willing to help search the area where the photo was taken.");
                    await addText("'Alright,' Coleson says, 'we'll sweep the northeast quadrant. Rangers will take the west. You stick with me—and keep that gun handy.'");
                    await addText("As you enter the forest, the trees seem to close in around you. The air grows colder, and an unnatural silence settles over the woods.");
                    
                    if (gameState.inventory.includes('Hiker\'s Photo')) {
                        addChoice("Follow the logging road northeast", () => showScene('logging_road_with_backup'));
                    } else {
                        addChoice("Search near the old campsite", () => showScene('old_campsite'));
                    }
                    break;
                    
                case 'check_gear':
                    await addText("You methodically check your equipment:");
                    await addText("- High-powered flashlight with extra batteries");
                    await addText("- Digital voice recorder (for documenting any unusual sounds)");
                    await addText("- Thermal camera");
                    await addText("- Motion-activated trail cameras (x4)");
                    await addText("- Bear spray (just in case)");
                    await addText("- First aid kit");
                    await addText("- Rope, climbing gear, and a hunting knife");
                    await addText("Everything seems in order. You're as prepared as you can be for whatever awaits in Blackwood Forest.");
                    
                    addChoice("Examine your father's journal one last time", () => showScene('read_journal'));
                    addChoice("Head out to the forest now", () => showScene('drive_to_forest'));
                    addChoice("Stop by the gun shop first—you might need more protection", () => showScene('gun_shop'));
                    break;
                    
                case 'gun_shop':
                    await addText("Old man Henderson eyes you warily as you enter his shop. 'Heard you're heading up to Blackwood,' he says. 'Ain't been the same since... well, you know.'");
                    await addText("He slides a shotgun across the counter. 'This here's a 12-gauge loaded with silver slugs. Won't ask why you need it, but it'll put down most anything that walks in those woods.'");
                    await addText("The price is steep, but the weight of the weapon in your hands is reassuring.");
                    gameState.hasWeapon = true;
                    gameState.inventory.push('Shotgun');
                    gameState.sanity += 10;
                    updateInventory();
                    updateStats();
                    
                    addChoice("Head to the forest armed and ready", () => showScene('drive_to_forest'));
                    break;
                    
                case 'read_journal':
                    await addText("You flip through the worn pages of your father's journal. Most entries detail his cryptozoological research, but the later ones... those are different.");
                    await addText("'June 12th: Strange noises outside the cabin last night. Something large moving through the brush. Mary thinks I'm imagining things, but I know what I heard.'");
                    await addText("'June 18th: Found enormous footprints near the creek. Not bear. Not human. Three toes, claw marks. Whatever it is, it's watching us.'");
                    await addText("'June 22nd: It's getting closer every night. Mary still doesn't believe me. I need to protect her, but from what? I don't even know what this thing is.'");
                    await addText("The final entry, dated the night she disappeared, is smeared with what might be tears: 'Gone. She's gone. I tried to stop it but it was too fast. The police won't believe me. No one will. But I swear I'll find it. I'll make it pay.'");
                    
                    addChoice("Pack the journal and head to the forest", () => showScene('drive_to_forest'));
                    addChoice("Check the photo again before leaving", () => showScene('examine_photo'));
                    addChoice("Look for hidden pages or codes in the journal", () => showScene('decode_journal'));
                    break;
                    
                case 'decode_journal':
                    await addText("Holding the journal up to the light, you notice faint impressions on some pages—your father wrote something and then erased it.");
                    await addText("With careful application of pencil shading, hidden words emerge:");
                    await addText("'The transformation is getting worse. The hair won't stop growing. The teeth... God help me, the teeth are changing.'");
                    await addText("'Mary can't know. She'd leave me. But I think she suspects. She keeps finding clumps of dark hair in the shower.'");
                    await addText("'The dreams are the worst. I wake up in the woods covered in dirt and blood. Last night there was a dead rabbit... did I do that?'");
                    await addText("Your hands tremble as the horrifying truth dawns on you. Your father wasn't just seeing a creature—he was becoming one.");
                    gameState.foundClues += 2;
                    gameState.sanity -= 20;
                    updateStats();
                    
                    addChoice("Confront the sheriff with this new evidence", () => showScene('confront_sheriff'));
                    addChoice("Head to the forest—you need to see for yourself", () => showScene('drive_to_forest_knowing'));
                    break;
                    
                case 'drive_to_forest_knowing':
                    await addText("Armed with the terrible knowledge of your father's condition, you drive to Blackwood Forest. The trees seem to loom taller, darker.");
                    await addText("As you park at the trailhead, you notice something odd—your reflection in the rearview mirror. For a fleeting moment, your eyes seem to glow yellow, just like your father described.");
                    await addText("You shake your head and the illusion passes. But the seed of doubt remains... could this curse be hereditary?");
                    gameState.sanity -= 10;
                    updateStats();
                    
                    if (gameState.inventory.includes('Hiker\'s Photo')) {
                        addChoice("Follow the logging road northeast", () => showScene('logging_road_knowing'));
                    } else {
                        addChoice("Search near the old campsite", () => showScene('old_campsite'));
                    }
                    break;
                    
                case 'logging_road_knowing':
                    await addText("The abandoned logging road is overgrown but still passable. The claw marks on the trees now take on new meaning—these could be your father's marks.");
                    await addText("Up ahead, something glints in your flashlight beam. You approach cautiously and find... the locket. Your mother's locket, hanging from a broken branch. The silver is tarnished, the chain snapped, but the distinctive vine pattern is unmistakable.");
                    await addText("As you reach for it, a wave of dizziness hits you. Visions flash through your mind:");
                    await addText("- Your father, half-transformed, weeping as he hangs the locket");
                    await addText("- Your mother screaming as something chases her through the woods");
                    await addText("- A dark shape dragging something heavy toward the ravine");
                    gameState.inventory.push('Mother\'s Locket');
                    gameState.foundClues += 1;
                    gameState.sanity -= 15;
                    updateInventory();
                    updateStats();
                    
                    addChoice("Follow the visions to the ravine", () => showScene('ravine_vision'));
                    addChoice("Set up trail cameras to monitor the area", () => showScene('set_camera_knowing'));
                    break;
                    
                case 'ravine_vision':
                    await addText("Guided by the visions, you make your way to a steep ravine deep in the forest. The ground is unstable, the air thick with the scent of damp earth and something metallic.");
                    await addText("At the edge of the ravine, you find a makeshift shrine: your mother's camping gear arranged in a circle, with wildflowers placed carefully around them. In the center lies a human skull, the bone weathered by years of exposure.");
                    await addText("A crude marking on a nearby tree shows two sets of claw marks crossing each other—a symbol your father used in his journal to represent 'home.'");
                    await addText("This is where your mother died. This is where your father, in whatever state he was in, brought her remains.");
                    gameState.motherFound = true;
                    gameState.foundClues += 2;
                    gameState.sanity -= 25;
                    updateStats();
                    
                    addChoice("Examine the remains carefully", () => showScene('examine_remains'));
                    addChoice("Call out for your father", () => showScene('call_for_father'));
                    break;
                    
                case 'examine_remains':
                    await addText("With trembling hands, you examine the skull. The frontal bone shows a massive fracture—consistent with a fall. There are no tooth marks or signs of animal predation.");
                    await addText("Among the camping gear, you find your mother's wedding ring. The inside is engraved: 'Forever my wild thing.' Your father's pet name for her.");
                    await addText("The evidence suggests your mother fell to her death while running from something... or someone. The shrine indicates remorse, not predation.");
                    gameState.fatherInnocent = true;
                    gameState.inventory.push('Mother\'s Ring');
                    updateInventory();
                    
                    addChoice("Confront the truth—your father didn't kill her", () => showScene('confront_truth'));
                    break;
                    
                case 'confront_truth':
                    await addText("As you kneel by the shrine, a twig snaps behind you. You turn slowly to see a massive, hairy figure standing at the tree line. Even in the dim light, you recognize the eyes—your father's eyes, filled with sorrow and recognition.");
                    await addText("The creature—your father—makes no move to approach. Instead, it points to the shrine, then to its own chest, and finally to you. The meaning is clear: this is your legacy.");
                    await addText("The pieces fall into place. Your father suffered from some kind of lycanthropic condition. He didn't kill your mother—she died running from what he had become. The guilt destroyed him, and now you're left to grapple with the same curse.");
                    gameState.knowsTruth = true;
                    
                    if (gameState.hasWeapon) {
                        addChoice("Raise your weapon—end this curse now", () => showScene('curse_ending'));
                        addChoice("Lower your weapon—this is still your father", () => showScene('acceptance_ending'));
                    } else {
                        addChoice("Approach your father carefully", () => showScene('reunion_ending'));
                    }
                    break;
                    
                case 'main_trail':
                    await addText("The main trail leads to a derelict ranger station, its windows boarded up. A fresh 'CONDEMNED' notice hangs crookedly on the door, but the lock appears recently broken.");
                    await addText("Inside, you find a makeshift investigation wall with:");
                    await addText("- Your mother's missing person poster");
                    await addText("- Maps with red circles around Blackwood's deepest areas");
                    await addText("- A journal labeled 'Project Lykos' with government seals");
                    
                    if (gameState.inventory.includes('Father\'s Journal')) {
                        await addText("Comparing the handwriting, you realize with dread—your father wrote this. He was part of some official operation before your birth.");
                        gameState.foundClues += 2;
                        updateStats();
                    }
                    
                    addChoice("Search the desk for case files", () => showScene('ranger_files'));
                    addChoice("Investigate the bloodstained trapdoor", () => showScene('trapdoor'));
                    addChoice("Retreat and burn the station (sanitize the past)", () => showScene('burn_evidence'));
                    break;
                    
                case 'trapdoor':
                    await addText("The rusted hinges scream as you open the trapdoor. Below lies a ritual space: candles, animal bones, and a crude altar with your mother's name carved into it.");
                    await addText("Most disturbing is the recent date scratched beside the altar—tonight's date, twenty years later. A voice whispers behind you: 'The blood moon returns...'");
                    
                    gameState.sanity -= 30;
                    updateStats();
                    
                    if (gameState.inventory.includes('Mother\'s Locket')) {
                        await addText("The locket grows warm against your chest. The altar's carving glows where your shadow falls.");
                        addChoice("Place the locket on the altar", () => showScene('ritual_choice'));
                    } else {
                        addChoice("Destroy the altar", () => showScene('altar_destruction'));
                    }
                    addChoice("Flee back to the forest", () => showScene('moonlight_chase'));
                    break;
                    
                case 'ritual_choice':
                    await addText("As the locket touches stone, the cave trembles. Shadows coalesce into a figure—your father, but not as you remember. His eyes burn yellow as he speaks:");
                    await addText("'You were never hunting a monster... you were hunting me. After the accident, James and I... we became the same creature.'");
                    await addText("The revelation hits like thunder: your 'father' was actually twin brothers merged by the curse. Your real father died protecting your mother from his transformed sibling.");
                    
                    gameState.foundClues = 7;
                    gameState.sanity = Math.max(10, gameState.sanity - 50);
                    updateStats();
                    
                    addChoice("Embrace your uncle (accept the family curse)", () => showScene('curse_embrace'));
                    addChoice("Use the ritual knife to break the bond", () => showScene('ritual_sacrifice'));
                    break;
                    
                case 'moonlight_chase':
                    await addText("Bursting from the station, you collide with the missing hiker from the photograph—now half-mad, clutching a camera. 'It's been following me for weeks!' he babbles.");
                    await addText("His photos show:");
                    await addText("- The creature leaving food for him");
                    await addText("- It weeping over your mother's shrine");
                    await addText("- It carefully placing the locket for you to find");
                    
                    gameState.metHiker = true;
                    
                    if (gameState.hasWeapon) {
                        addChoice("Protect the hiker (escort him to safety)", () => showScene('hiker_rescue'));
                    } else {
                        addChoice("Take his camera as evidence", () => showScene('camera_evidence'));
                        addChoice("Leave him (he's too far gone)", () => showScene('abandon_hiker'));
                    }
                    break;
                    
                // Endings
                case 'curse_ending':
                    await addText("Tears stream down your face as you raise the shotgun. Your father—the creature—doesn't resist. It stands tall, almost proud, as if welcoming this release.");
                    await addText("The blast echoes through the forest. As the smoke clears, you see the body reverting to human form in death. Your father's face is peaceful for the first time in decades.");
                    await addText("You bury both your parents there in the ravine. As you walk away, you feel the first stirrings of the change in yourself. The hunt is over, but the curse lives on.");
                    await addText("THE END - CURSE CONTINUES");
                    addChoice("Play again", () => location.reload());
                    break;
                    
                case 'acceptance_ending':
                    await addText("You lower your weapon and approach the creature. Up close, you can see the humanity still present in those eyes. The creature—your father—places a massive paw on your shoulder.");
                    await addText("In that moment, you feel the connection between you. This isn't just his curse—it's yours now too. But where he fought it alone, you'll face it together.");
                    await addText("The two of you rebuild the shrine together, honoring your mother's memory. As dawn breaks, you walk side by side into the forest, no longer hunter and hunted, but family.");
                    await addText("THE END - FAMILY REUNITED");
                    addChoice("Play again", () => location.reload());
                    break;
                    
                case 'reunion_ending':
                    await addText("Unarmed, you approach the creature with open hands. It watches warily but doesn't flee. When you're close enough, you reach out and touch its matted fur.");
                    await addText("The transformation begins immediately—the hair recedes, the bones crack and reshape. Within minutes, your father stands before you, older than you remember but unmistakably human.");
                    await addText("'I'm sorry,' he whispers, his voice hoarse from disuse. 'I never meant for any of this.'");
                    await addText("You embrace, and for the first time in years, you feel at peace. The road ahead won't be easy—the curse still lingers in your blood—but you'll face it together.");
                    await addText("THE END - REDEMPTION");
                    addChoice("Play again", () => location.reload());
                    break;
                    
                case 'ritual_sacrifice':
                    await addText("You plunge the ritual knife into the altar as your uncle screams. The cave collapses around you as two forms separate—one human, one beast. In the dust, you see:");
                    await addText("- Your true father's ghost finally at peace");
                    await addText("- Your uncle's monstrous form crumbling to ash");
                    await addText("- The locket now holding both their spirits");
                    await addText("As dawn breaks, you place the locket at your mother's true grave. The curse is broken, but the cost hangs heavy in the morning light.");
                    await addText("THE END - BROKEN CHAINS");
                    addChoice("Play again", () => location.reload());
                    break;
                    
                case 'hiker_rescue':
                    await addText("You guide the terrified hiker back to safety, his photos providing undeniable proof of your father's condition. The media calls it 'The Blackwood Revelation,' forcing the government to acknowledge Project Lykos.");
                    await addText("Your father's journal becomes key evidence in congressional hearings. Though you never see him again, the last photo shows him watching from the trees—his eyes no longer yellow, but human.");
                    await addText("You establish a sanctuary for others affected by the curse, turning your family's tragedy into hope for countless others.");
                    await addText("THE END - LEGACY OF LIGHT");
                    addChoice("Play again", () => location.reload());
                    break;
                    
                default:
                    await addText("The story reaches a natural pause. The wind whispers through the trees as you consider your next move.");
                    addChoice("Return to the forest trail", () => showScene('main_trail'));
                    addChoice("Examine your inventory", () => {
                        inventoryDisplay.classList.remove('hidden');
                        showScene(sceneId);
                    });
            }
        }
    </script>
</body>
</html>
